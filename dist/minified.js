let pokemonRep=(()=>{let e=[],t=t=>{"object"==typeof t?e.push(t):console.log("Not a valid data type")},a=e=>{o(e).then(()=>{i(e),console.log(e)})},o=async e=>{const t=e.detailsUrl;try{let a=await fetch(t),o=await a.json();e.id=o.id,e.name=o.name,e.imageUrl=o.sprites.other["official-artwork"].front_default,e.height=o.height/10+" m",e.weight=o.weight+" kgs",e.types=[],o.types.forEach(t=>{e.types.push(t.type.name)}),e.abilities=[],o.abilities.forEach(t=>{e.abilities.push(t.ability.name)});const n=`https://pokeapi.co/api/v2/pokemon-species/${e.id}`;try{a=await fetch(n),o=await a.json(),e.specie=o.genera[7].genus;const t=o.flavor_text_entries.filter(e=>"en"===e.language.name);e.description=t[t.length-1].flavor_text.replace(/[\n \f]/g," ")}catch(e){console.error(e)}}catch(e){console.error(e)}},n=document.createElement("div");n.setAttribute("id","modal-container");const i=e=>{e.detailsUrl;let t=$(".modal-body"),a=$(".modal-title");$(".modal-footer");t.empty(),a.empty();let o=$("<h1>"+e.name+"</h1>"),n=$("<img>");n.addClass("modal-img"),n.addClass("img-fluid"),n.attr("src",e.imageUrl);let i=$("<p>height: "+e.height+"</p>"),l=$("<p>types: "+e.types+"</p>"),s=$("<p>weight: "+e.weight+"</p>"),p=$("<p>abilities: "+e.abilities+"</p>");a.append(o),t.append(n),t.append(i),t.append(s),t.append(l),t.append(p)};return n.addEventListener("click",e=>{e.target===n&&hideModal()}),{add:t,getAll:()=>e,findPokemon:()=>{let e,t,a,o,n,i,l;for(t=(e=document.getElementById("search-pokemon")).value.toUpperCase(),o=(a=document.getElementById("pokemons")).getElementsByTagName("li"),i=0;i<o.length;i++)(l=(n=o[i].getElementsByTagName("button")[0]).textContent||n.innerText).indexOf(t)>-1?o[i].style.display="":o[i].style.display="none"},addListItem:e=>{let t=document.querySelector(".pokemon-list"),o=document.createElement("li"),n=document.createElement("button");n.innerText=e.name,n.classList.add("button-class","btn","btn-outline-dark"),n.setAttribute("data-toggle","modal"),n.setAttribute("data-target","#pokeModal"),o.appendChild(n),o.classList.add("group-list-item"),t.appendChild(o),n.addEventListener("click",()=>{a(e)})},loadList:()=>fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{e.results.forEach(e=>{let a={name:e.name,detailsUrl:e.url};t(a)})}).catch(e=>{console.error(e)}),loadPokemonData:o}})();pokemonRep.loadList().then(()=>{pokemonRep.getAll().forEach(e=>pokemonRep.addListItem(e))}),pokemonRep.add({name:"Lugia",height:2,weight:60,types:["legendary","fire"]}),console.log(pokemonRep.getAll());